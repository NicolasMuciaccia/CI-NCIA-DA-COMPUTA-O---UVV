-- INSERÇÕES PARA TABELA ESPECTADORES
INSERT INTO ESPECTADORES (ID_ESPEC, TEL_ESPEC, EMAIL_ESPEC, NOME_ESPEC, DATA_NASC)
VALUES 
    (1, '123456789', 'fulano@email.com', 'Fulano Almeida', '1990-01-01'),
    (2, '987654321', 'ciclano@email.com', 'Ciclano da Silva', '1995-05-15'),
    (3, '55555555', 'beltrano@email.com', 'Beltrano Souza', '1988-12-20'),
    (4, '999999999', 'maria@email.com', 'Maria Oliveira', '1982-07-10'),
    (5, '777777777', 'jose@email.com', 'José Santos', '1975-03-30');

-- INSERÇÕES PARA TABELA SALAS
INSERT INTO SALAS (ID_SALA, NOME, CAPACIDADE)
VALUES 
    (1, 'Sala VIP', 100),
    (2, 'Sala Premium', 80),
    (3, 'Sala Ultra', 120),
    (4, 'Sala Mega', 90),
    (5, 'Sala Deluxe', 110);

-- INSERÇÕES PARA TABELA FILMES
INSERT INTO FILMES (ID_FILME, NOME_FILME, DISTRIBUIDOR_FILME, TEMPO_FILME, DIRETOR)
VALUES 
    (1, 'Aventuras de Verão', 'Distribuidora 1', 120, 'Alice Silva'),
    (2, 'O Segredo dos Anéis', 'Distribuidora 2', 110, 'Bob Oliveira'),
    (3, 'A Era dos Dragões', 'Distribuidora 3', 105, 'Cassie Rodrigues'),
    (4, 'Desafio Espacial', 'Distribuidora 4', 95, 'David Santos'),
    (5, 'O Tesouro Perdido', 'Distribuidora 5', 130, 'Eva Almeida');

-- INSERÇÕES PARA TABELA SESSOES
INSERT INTO SESSOES (ID_SESSAO, FILME, SALA)
VALUES 
    (1, 1, 1),
    (2, 2, 2),
    (3, 3, 3),
    (4, 4, 4),
    (5, 5, 5);

-- INSERÇÕES PARA TABELA INGRESSOS
INSERT INTO INGRESSOS (ID_INGRESSO, DATA_ING, HORA_ING, SESSAO, ESPECTADOR)
VALUES 
    (1, '2024-05-01', '14:30:00', 1, 1),
    (2, '2024-05-01', '17:00:00', 2, 2),
    (3, '2024-05-02', '19:30:00', 3, 3),
    (4, '2024-05-02', '21:00:00', 4, 4),
    (5, '2024-05-03', '14:00:00', 5, 5);

-- ATUALIZAÇÕES PARA TABELA ESPECTADORES
UPDATE ESPECTADORES SET NOME_ESPEC = 'Fulano Silva' WHERE ID_ESPEC = 1;
UPDATE ESPECTADORES SET EMAIL_ESPEC = 'novoemail@email.com' WHERE ID_ESPEC = 2;

-- ATUALIZAÇÕES PARA TABELA SALAS
UPDATE SALAS SET CAPACIDADE = 110 WHERE ID_SALA = 1;
UPDATE SALAS SET NOME = 'Sala Premium Plus' WHERE ID_SALA = 2;

-- ATUALIZAÇÕES PARA TABELA FILMES
UPDATE FILMES SET NOME_FILME = 'Aventuras Aquáticas' WHERE ID_FILME = 1;
UPDATE FILMES SET TEMPO_FILME = 100 WHERE ID_FILME = 2;

-- ATUALIZAÇÕES PARA TABELA SESSOES
UPDATE SESSOES SET SALA = 2 WHERE ID_SESSAO = 1;
UPDATE SESSOES SET FILME = 3 WHERE ID_SESSAO = 2;

-- ATUALIZAÇÕES PARA TABELA INGRESSOS
UPDATE INGRESSOS SET DATA_ING = '2024-05-05' WHERE ID_INGRESSO = 1;
UPDATE INGRESSOS SET HORA_ING = '15:00:00' WHERE ID_INGRESSO = 2;

SET FOREIGN_KEY_CHECKS = 0; #USADO APENAS PARA FINS DE APRENDIZADO - LIBERA AS RESTRIÇÕES DE CHAVE ESTRANGEIRA

-- EXCLUINDO INGRESSOS RELACIONADOS AOS ESPECTADORES QUE SERÃO EXCLUÍDOS
DELETE FROM INGRESSOS WHERE ESPECTADOR = 3;
DELETE FROM INGRESSOS WHERE ESPECTADOR = 5;

-- EXCLUINDO INGRESSOS RELACIONADOS AO ESPECTADOR QUE SERÁ EXCLUÍDO
DELETE FROM INGRESSOS WHERE ESPECTADOR = 1;

-- EXCLUINDO AS SESSÕES RELACIONADAS AOS FILMES QUE SERÃO EXCLUÍDOS
DELETE FROM SESSOES WHERE FILME IN (3, 5);
DELETE FROM SESSOES WHERE FILME = 1;

-- EXCLUINDO FILMES RELACIONADOS ÀS SESSÕES QUE SERÃO EXCLUÍDAS
DELETE FROM FILMES WHERE ID_FILME IN (3, 5);
DELETE FROM FILMES WHERE ID_FILME = 1;

-- EXCLUINDO SALAS RELACIONADAS ÀS SESSÕES QUE SERÃO EXCLUÍDAS
DELETE FROM SALAS WHERE ID_SALA IN (SELECT SALA FROM SESSOES WHERE FILME IN (3, 5));
DELETE FROM SALAS WHERE ID_SALA = (SELECT SALA FROM SESSOES WHERE FILME = 1);

-- EXCLUINDO ESPECTADORES
DELETE FROM ESPECTADORES WHERE ID_ESPEC = 3;
DELETE FROM ESPECTADORES WHERE ID_ESPEC = 5;

SET FOREIGN_KEY_CHECKS = 1;
